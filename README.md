# ComfyUI 网页图像生成器

这是一个Chrome浏览器扩展，允许您使用网页上的文本和图像通过ComfyUI生成新的图像。此外，还支持多种流行的文生图API服务。

## 功能

- 从网页选择文本作为提示词
- 从网页选择图像作为参考
- 支持多种文生图服务商：
  - ComfyUI (自托管API)
  - OpenAI (DALL-E)
  - Midjourney API
  - Stability AI (Stable Diffusion)
  - Leonardo.AI
- 右键菜单快速选择内容
- 下载生成的图像

## 使用方法

### 安装

1. 下载或克隆此仓库
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 打开"开发者模式"
4. 点击"加载已解压的扩展程序"，选择此仓库的文件夹

### 配置

#### ComfyUI设置:
1. 点击Chrome工具栏中的扩展图标
2. 点击"打开设置"按钮
3. 在设置页面中选择ComfyUI部署类型:
   - **本地部署 (localhost)**: 适用于在您自己的计算机上运行的ComfyUI
   - **ComfyDeploy 云服务**: 适用于使用ComfyDeploy托管的服务
   - **其他第三方服务**: 适用于其他类型的ComfyUI托管服务
4. 根据选择的部署类型填写相应的配置信息
5. 点击"测试连接"确认API连接正常
6. 点击"保存设置"

#### 配置文生图服务商:
1. 在设置页面左侧选择"文生图服务"
2. 从下拉列表中选择您想要配置的服务商
3. 输入您的API密钥
4. 选择所需的模型和其他设置选项
5. 可以点击"测试连接"来验证API密钥是否有效
6. 点击"保存设置"保存配置

### 使用

有两种使用方式：

**方法1: 使用插件弹窗**
1. 在网页上选择文本和/或图像
2. 点击Chrome工具栏中的扩展图标
3. 从服务商下拉菜单中选择要使用的文生图服务
4. 点击"获取页面内容"按钮提取选中的内容
5. 编辑提示词（如果需要）
6. 点击"生成图像"按钮

**方法2: 使用右键菜单**
1. 在网页上选择文本或右键点击图像
2. 从右键菜单中选择相应的选项
3. 在弹出的扩展窗口中选择要使用的文生图服务
4. 编辑提示词（如果需要）
5. 点击"生成图像"按钮

## 支持的服务商和模型

### ComfyUI
- 支持多种部署方式:
  - **本地部署**: 本地运行的ComfyUI实例 (http://localhost:8188)
  - **ComfyDeploy**: 由ComfyDeploy托管的服务，需要API密钥
  - **其他第三方服务**: 其他ComfyUI托管服务
- 针对不同的部署类型有不同的API路径和认证方式

### OpenAI (DALL-E)
- 支持DALL-E 3和DALL-E 2
- 可配置图像尺寸

### Midjourney
- 支持Midjourney v5和v4
- 可配置质量和风格设置

### Stability AI
- 支持Stable Diffusion XL和Stable Diffusion 1.6
- 可配置采样数量和生成步数

### Leonardo.AI
- 支持Leonardo Diffusion XL和Dream Shaper XL等模型
- 可配置生成数量、宽度和高度

## ComfyUI工作流设置

为了使用此扩展，您需要在ComfyUI中创建一个工作流并部署它。工作流应该：

1. 接受名为"prompt"的字符串输入
2. 可选地接受名为"image"的图像输入
3. 输出一个名为"image"的图像

您可以使用ComfyDeploy来部署您的工作流：https://www.comfydeploy.com/

## 注意事项

- 此扩展需要访问您浏览的网页内容
- 生成的图像质量取决于您选择的服务商和模型
- 请确保您有权使用您选择的内容来生成图像
- API密钥和配置信息只存储在本地浏览器中，不会被发送到任何第三方服务器（除了您配置的API服务） 